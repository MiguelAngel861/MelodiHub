
# Repify

#### Video demo: https://youtu.be/dKTLScdHv3g

#### Description:
He desarrollado una aplicación web utilizando Flask, que permite a los usuarios interactuar con Spotify mediante su API oficial. La aplicación emplea OAuth 2.0 para autenticar a los usuarios, asegurando que se obtenga un token de acceso válido para realizar solicitudes seguras y autorizadas a la API de Spotify. Este flujo de autenticación proporciona un mecanismo seguro y confiable para acceder a los datos de los usuarios sin exponer sus credenciales. La funcionalidad principal de la aplicación se organiza en varias rutas que permiten a los usuarios interactuar con diferentes aspectos de su cuenta de Spotify. Por ejemplo, la ruta raíz, "/", sirve como la página de inicio de la aplicación, donde los usuarios son bienvenidos con una interfaz limpia y clara que incluye un botón para iniciar sesión. Desde aquí, los usuarios son redirigidos a la ruta "/login", que inicia el flujo de autorización al enviar una solicitud a la página de autorización de Spotify. Cuando un usuario concede los permisos necesarios, Spotify redirige de vuelta a la aplicación utilizando una URL registrada, manejada por la ruta "/callback". En esta etapa, la aplicación intercambia el código de autorización recibido por un token de acceso, que es almacenado de manera segura para realizar solicitudes autenticadas en nombre del usuario. Una de las funcionalidades clave de la aplicación es la capacidad de visualizar el perfil del usuario. La ruta "/profile" utiliza el token de acceso para enviar una solicitud a la API de Spotify y obtener información detallada del perfil del usuario, como su nombre, correo electrónico, imagen de perfil y tipo de cuenta (gratuita o premium). Esta información es procesada y renderizada dinámicamente en una plantilla HTML mediante Jinja2, ofreciendo una experiencia de usuario personalizada. Además del perfil, los usuarios pueden explorar su historial de reproducción reciente mediante la ruta "/historial", que muestra una lista de las canciones reproducidas en las últimas sesiones. Los datos se obtienen utilizando el endpoint de historial de la API de Spotify y se presentan de manera amigable en la interfaz. De forma similar, la ruta "/gustados" permite a los usuarios ver las canciones que han marcado como "me gusta" o guardado en su biblioteca, ofreciendo un acceso rápido a sus pistas favoritas. La ruta "/tops" añade más profundidad a la experiencia del usuario al mostrar las canciones y artistas más escuchados, según datos recopilados por Spotify. Esto incluye métricas como las tendencias de escucha durante períodos cortos y largos, brindando a los usuarios una visión general de sus hábitos musicales. Por otro lado, la ruta "/repifyWawa" combina los datos del historial reciente con las canciones guardadas, buscando coincidencias entre ambas listas y mostrando resultados únicos que reflejan la conexión entre lo que los usuarios escuchan frecuentemente y lo que han marcado como favorito. Un aspecto interactivo interesante es la funcionalidad de reproducción de canciones. La ruta "/play" permite a los usuarios reproducir canciones específicas directamente desde la aplicación, utilizando las capacidades de reproducción de la API de Spotify. Esta característica incluye controles básicos que aseguran una experiencia fluida y conectada. Desde el punto de vista técnico, las solicitudes a la API de Spotify se realizan mediante el módulo Requests de Python. Las respuestas en formato JSON se procesan en el servidor para extraer la información relevante, que posteriormente se renderiza en las plantillas HTML. Estas plantillas están diseñadas para ser responsivas y fáciles de usar, empleando estilos CSS para mejorar la presentación visual. La aplicación está configurada para ejecutarse localmente, utilizando el entorno de desarrollo de Flask. Esto facilita el proceso de depuración, ya que se puede monitorear el comportamiento de la aplicación en tiempo real y ajustar cualquier problema antes de implementarla en un entorno de producción. Las variables sensibles, como el client_id, client_secret y las URLs de redirección, se almacenan en un archivo .env y se gestionan utilizando la biblioteca python-dotenv, lo que garantiza la seguridad y flexibilidad del proyecto. Para mejorar la experiencia del usuario, se incluyeron mensajes de error personalizados que manejan situaciones comunes, como tokens expirados, falta de permisos o errores en la conexión con la API. Esto ayuda a mantener la aplicación robusta y confiable, incluso ante condiciones adversas. También se añadieron registros detallados en el backend para rastrear el comportamiento de la aplicación y diagnosticar problemas rápidamente. En términos de estructura, el proyecto sigue un enfoque modular, donde las rutas, funciones auxiliares y plantillas se organizan en archivos separados para facilitar el mantenimiento y la escalabilidad. El objetivo final de esta aplicación es proporcionar una experiencia envolvente y personalizada para los usuarios de Spotify, aprovechando al máximo las capacidades de su API y asegurando que la interacción sea intuitiva y eficiente.
